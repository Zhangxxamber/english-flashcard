<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯• - è¯­éŸ³æŒ‰é’®æ˜¯å¦å­˜åœ¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            background: #f5f5f5;
        }
        .test-result {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
            background: #667eea;
            color: white;
        }
        button:hover {
            background: #5568d3;
        }
    </style>
</head>
<body>
    <h1>ğŸ” è¯­éŸ³é€‰æ‹©åŠŸèƒ½æµ‹è¯•é¡µé¢</h1>
    
    <div class="test-result">
        <h2>æµ‹è¯•ç»“æœï¼š</h2>
        <div id="result">æ­£åœ¨æ£€æµ‹...</div>
    </div>

    <h3>æ‰‹åŠ¨æµ‹è¯•ï¼š</h3>
    <button onclick="openDictation()">æ‰“å¼€ Grade2 English å¬å†™é¡µé¢</button>
    <button onclick="clearCache()">æ¸…é™¤ç¼“å­˜æŒ‡å—</button>

    <div class="test-result">
        <h3>ğŸ“ å¦‚ä½•æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š</h3>
        <ol>
            <li><strong>æ–¹æ³•1ï¼ˆæœ€ç®€å•ï¼‰</strong>: æŒ‰ <code>Ctrl + Shift + Delete</code> æ‰“å¼€æ¸…é™¤æ•°æ®çª—å£</li>
            <li>é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"</li>
            <li>ç‚¹å‡»"æ¸…é™¤æ•°æ®"</li>
            <li>å…³é—­æ‰€æœ‰è‹±è¯­å­¦ä¹ é¡µé¢æ ‡ç­¾</li>
            <li>é‡æ–°æ‰“å¼€ index.html</li>
        </ol>
        
        <h3>ğŸ“ æ–¹æ³•2ï¼ˆå¼€å‘è€…å·¥å…·ï¼‰ï¼š</h3>
        <ol>
            <li>æ‰“å¼€è‹±è¯­å­¦ä¹ é¡µé¢</li>
            <li>æŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
            <li>å³é”®ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼ˆåœ°å€æ å·¦è¾¹ï¼‰</li>
            <li>é€‰æ‹©"æ¸…ç©ºç¼“å­˜å¹¶ç¡¬æ€§é‡æ–°åŠ è½½"</li>
        </ol>

        <h3>ğŸ“ æ–¹æ³•3ï¼ˆéšèº«æ¨¡å¼æµ‹è¯•ï¼‰ï¼š</h3>
        <ol>
            <li>æŒ‰ <code>Ctrl + Shift + N</code> æ‰“å¼€éšèº«çª—å£</li>
            <li>åœ¨éšèº«çª—å£ä¸­æ‰“å¼€ index.html</li>
            <li>è¿›å…¥è‹±è¯­å­¦ä¹ é¡µé¢</li>
            <li>åº”è¯¥èƒ½çœ‹åˆ°è¯­éŸ³é€‰æ‹©æŒ‰é’®</li>
        </ol>
    </div>

    <div class="test-result">
        <h3>ğŸ¯ æœŸæœ›çœ‹åˆ°çš„æ•ˆæœï¼š</h3>
        <p>åœ¨è‹±è¯­å­¦ä¹ é¡µé¢çš„å³ä¸Šè§’åº”è¯¥æœ‰ä¸¤ä¸ªæŒ‰é’®ï¼š</p>
        <div style="background: #2c2c3e; padding: 20px; border-radius: 10px; color: white; margin: 10px 0;">
            <div style="text-align: right;">
                <span style="background: rgba(255,255,255,0.25); padding: 10px 15px; border-radius: 50%; margin-left: 10px;">ğŸ™ï¸</span>
                <span style="background: rgba(255,255,255,0.25); padding: 10px 15px; border-radius: 50%; margin-left: 10px;">ğŸ”Š</span>
            </div>
        </div>
        <ul>
            <li><strong>ğŸ™ï¸</strong> = è¯­éŸ³é€‰æ‹©æŒ‰é’®ï¼ˆç‚¹å‡»æ‰“å¼€å‘éŸ³äººåˆ—è¡¨ï¼‰</li>
            <li><strong>ğŸ”Š</strong> = éŸ³æ•ˆå¼€å…³æŒ‰é’®</li>
        </ul>
    </div>

    <script>
        // æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨è¯­éŸ³é€‰æ‹©ä»£ç 
        function checkFiles() {
            const resultDiv = document.getElementById('result');
            
            fetch('grade2_english/dictation.html')
                .then(response => response.text())
                .then(html => {
                    const hasVoiceButton = html.includes('btn-voice-select');
                    const hasVoicePanel = html.includes('voice-panel');
                    const hasToggleFunction = html.includes('toggleVoicePanel');
                    
                    let result = '<h3>Grade2 English æ£€æµ‹ç»“æœï¼š</h3>';
                    result += `<p class="${hasVoiceButton ? 'success' : 'error'}">
                        ${hasVoiceButton ? 'âœ…' : 'âŒ'} è¯­éŸ³é€‰æ‹©æŒ‰é’®ä»£ç : ${hasVoiceButton ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'}
                    </p>`;
                    result += `<p class="${hasVoicePanel ? 'success' : 'error'}">
                        ${hasVoicePanel ? 'âœ…' : 'âŒ'} è¯­éŸ³é€‰æ‹©é¢æ¿ä»£ç : ${hasVoicePanel ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'}
                    </p>`;
                    result += `<p class="${hasToggleFunction ? 'success' : 'error'}">
                        ${hasToggleFunction ? 'âœ…' : 'âŒ'} åˆ‡æ¢å‡½æ•°ä»£ç : ${hasToggleFunction ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'}
                    </p>`;
                    
                    if (hasVoiceButton && hasVoicePanel && hasToggleFunction) {
                        result += '<h3 class="success">âœ… æ‰€æœ‰ä»£ç éƒ½å­˜åœ¨ï¼</h3>';
                        result += '<p style="color: orange; font-weight: bold;">å¦‚æœæ‚¨çœ‹ä¸åˆ°æŒ‰é’®ï¼Œè¯·æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼</p>';
                    } else {
                        result += '<h3 class="error">âŒ ä»£ç ç¼ºå¤±ï¼</h3>';
                        result += '<p>è¯·è”ç³»å¼€å‘è€…æ£€æŸ¥æ–‡ä»¶ã€‚</p>';
                    }
                    
                    resultDiv.innerHTML = result;
                })
                .catch(error => {
                    resultDiv.innerHTML = `<p class="error">âŒ æ— æ³•è¯»å–æ–‡ä»¶: ${error.message}</p>
                    <p>è¯·ç¡®ä¿æ­¤æµ‹è¯•é¡µé¢åœ¨ english-flashcard ç›®å½•ä¸‹ã€‚</p>`;
                });
        }

        function openDictation() {
            window.open('grade2_english/dictation.html?book=1', '_blank');
        }

        function clearCache() {
            alert('è¯·æŒ‰ç…§é¡µé¢ä¸Šçš„è¯´æ˜æ“ä½œæ¸…é™¤ç¼“å­˜ã€‚\n\næœ€ç®€å•çš„æ–¹æ³•ï¼š\n1. æŒ‰ Ctrl + Shift + Delete\n2. é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"\n3. ç‚¹å‡»"æ¸…é™¤æ•°æ®"');
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æµ‹
        window.onload = checkFiles;
    </script>
</body>
</html>
